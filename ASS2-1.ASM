STACK 	SEGMENT	PARA	STACK
		DW		100H DUP(?)
STACK	ENDS

DATA	SEGMENT	PARA
NUM1 	DB 		?
NUM2	DB 		?
RESULT  DW 		?
DATA 	ENDS

CODE 	SEGMENT PARA
		ASSUME	CS:CODE,DS:DATA,SS:STACK

GETNUM 	MACRO
		MOV 	AH,1
		INT  	21H
		SUB 	AL,30H
		ENDM

MULTI 	MACRO	N1,N2
		MOV 	AL,N1
		MOV 	BL,N2
		MUL 	BL
		ENDM

DIVIDE 	MACRO 	N1,N2
		MOV 	AX,N1
		MOV 	BX,N2
		XOR 	DX,DX
		DIV 	BX
		ENDM

DISPNUM MACRO 	
		PUSH 	DX
		MOV 	AH,2
		MOV 	DL,AL
		ADD 	DL,30H
		INT 	21H
		POP 	DX
		ENDM

INPUT 	MACRO 	NUM
		GETNUM
		MULTI 	AL,100
		MOV 	NUM,AL
		GETNUM
		MULTI 	AL,10
		ADD 	NUM,AL
		GETNUM
		ADD 	NUM,AL
		ENDM

NEWLINE MACRO
		MOV 	AH,2
		MOV 	DL,0DH
		INT 	21H
		MOV 	AH,2
		MOV 	DL,0AH
		INT 	21H
		ENDM

OUTPUT 	PROC
		DIVIDE 	AX,10000
		DISPNUM
		DIVIDE 	DX,1000
		DISPNUM
		DIVIDE 	DX,100
		DISPNUM
		DIVIDE 	DX,10
		DISPNUM
		MOV 	AL,DL
		DISPNUM
		RET
OUTPUT 	ENDP

MAIN	PROC 	FAR
		MOV 	AX,DATA
		MOV 	DS,AX
		;get num1
		INPUT 	NUM1
		;getchar
		GETNUM
		XOR 	AX,AX
		;get num2
		INPUT 	NUM2
		;num1 * num2
		MULTI 	NUM1,NUM2
		MOV 	RESULT,AX
		;newline
		NEWLINE
		;output result
		MOV 	AX,RESULT
		CALL 	OUTPUT


EXIT:	MOV 	AX,4C00H
		INT 	21H
MAIN 	ENDP

CODE 	ENDS
		END 	MAIN